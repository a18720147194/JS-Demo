<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				padding: 0;
				margin: 0;
			}
			table{
				margin: 100px auto 50px;
				border-collapse: collapse;
			}
			form>div{
				width: 250px;
				height: 180px;
				border: 1px solid;
				margin: 0 auto;
				padding: 0 5px;
			}
			h3{
				margin: 20px  0;
			
			}
			span{
				font: 13px 宋体;
				display: inline-block;
				width: 50px;
				line-height: 20px;
			}
			#appen>div{
				text-align: center;
			}
		</style>
		<script type="text/javascript">
			window.onload = function(){
				var btn = document.getElementById("btn");
				var a = document.getElementsByTagName("a");
				
				for(var i = 0 ; i<a.length ; i++){
					a[i].onclick = function(){
						if(confirm("确认删除"+this.parentNode.parentNode.firstChild.innerHTML+"吗？")){
							this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode);
						}
					};
				}
				
				btn.onclick = function(){ 
					
					var newName = document.getElementsByName("name")[0];
					var newEmail = document.getElementsByName("email")[0];
					var newSalary = document.getElementsByName("salary")[0];
					var name = newName.value;
					var email = newEmail.value;
					var salary = newSalary.value;
					
					var regName =/^[A-Z][a-z]+$/;
					var regEmail = /^[\w]+(\.[\w]+)*@[A-z0-9]+(\.[A-z]{2,5}){1,2}$/;
					var regSalary = /^[1-9]\d{2}$/;
					
					if(regName.test(name)&&regEmail.test(email)&&regSalary.test(salary)){
						var tbody = document.getElementsByTagName("tbody")[0];
						var textName = document.createTextNode(name);
						var textEmail = document.createTextNode(email);
						var textSalary = document.createTextNode(salary);
						var textDelete = document.createTextNode("delete");
						
						var tdName = document.createElement("td");
						var tdEmail = document.createElement("td");
						var tdSalary = document.createElement("td");
						var tdA = document.createElement("td");
						var aDelete = document.createElement("a");
						var tr = document.createElement("tr");
						
						tdName.appendChild(textName);
						tdEmail.appendChild(textEmail);
						tdSalary.appendChild(textSalary);
						aDelete.appendChild(textDelete);
						tdA.appendChild(aDelete);
						tr.appendChild(tdName);
						tr.appendChild(tdEmail);
						tr.appendChild(tdSalary);
						tr.appendChild(tdA);
						aDelete.href = "#";
						tbody.appendChild(tr);
						for(var i = 0 ; i<a.length ; i++){
							a[i].onclick = function(){
								if(confirm("nihao ")){
									this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode);
								}
							};
						}
					}else{
						alert("格式错误，请重新输入");
					}
				};
			};
		</script>
	</head>
	<body>
		<form action="" method="post">
			<table border="1" cellspacing="0" id="table">
				<tr><th>Name</th><th>Email</th><th>Salary</th><th></th></tr>
				<tr><td>Tom</td><td>Tom@tom.com</td><td>500</td><td><a href="#">delete</a></td></tr>
				<tr><td>Bob</td><td>Bob@Bob.com</td><td>800</td><td><a href="#">delete</a></td></tr>
				<tr><td>Bob</td><td>Bob@Bob.com</td><td>800</td><td><a href="#">delete</a></td></tr>
			</table>
			<div id="appen">
				<h3>添加新员工</h3>
				<span>name:</span><input type="text" name="name"   /><br />
				<span>email:</span><input type="text" name="email"  /><br />
				<span>salary:</span><input type="text" name="salary" /><br />
				
				<div>
					<input type="button"  id="btn" value="submit" />
				</div>
			</div>
			
		</form>

	</body>
</html>
